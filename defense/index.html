<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Posert Defense</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="talk-theme/reveal.js/dist/reveal.css">
		<link rel="stylesheet" href="talk-theme/posert.css" id="theme">
		<link rel="stylesheet" href="talk-theme/presentation.css">
        <link rel="stylesheet" href="this-presentation.css">
	</head>
  <body>
<div class="reveal">
<div class="slides">

<section data-auto-animate="">
    <h2>Hello world</h2>
</section>

<section data-background-color="black" data-hide-slide-number="true" data-auto-animate="">
    <div class="fit-one r-stretch">
        <img src="images/rich-fries.jpeg" alt="">
    </div>
</section>
<section data-background-color="black" data-hide-slide-number="true" data-auto-animate="">
    <div class="fit-two r-stretch">
        <img src="images/rich-fries.jpeg" alt="">
        <img src="images/chips-casey.jpg" alt="">
    </div>
</section>
<section data-background-color="black" data-hide-slide-number="true" data-auto-animate="">
    <div class="fit-three r-stretch">
        <img src="images/rich-fries.jpeg" alt="">
        <img src="images/chips-casey.jpg" alt="">
        <img src="images/chips-nooch.jpg" alt="">
    </div>
</section>

<section data-auto-animate="" data-background-image="images/chips.jpg" data-hide-slide-number="true">
    <div class="r-stretch fit-one">
        <h2 
            data-id="we-love-salt" 
            style="color: black; margin-bottom: 300px;" 
            class="r-fit-text"
        >
            We love salt
        </h2>
    </div>
    <p class="citation">Photo by Mustafa Bashari on Unsplash</p>
</section>

<section data-auto-animate="" data-background-image="images/ocean.jpg" data-hide-slide-number="true">
    <div class="r-stretch fit-one">
        <h2 
            data-id="we-love-salt" 
            style="color: black; margin-bottom: 300px;" 
            class="r-fit-text"
        >
            We love salt?
        </h2>
    </div>
    <p class="citation" style="color: white;">Photo by Ant Rozetsky on Unsplash</p>
</section>

<section data-auto-animate="" data-background-color="white">
    <h2 
        data-id="we-love-salt" 
        style="color: black";
    >
        Do we love salt?
    </h2>
    <div class="fit-one r-stretch">
        <img src="images/fake-salt.jpg" alt="">
    </div>
    <p class="citation">Edward Centrella at Your Brain on Sci</p>
</section>

<section data-auto-animate="" data-background-image="images/ball-compare/ball-compare.png">
    <div class="r-stretch fit-one">
        <h2
            data-id="we-love-salt"
            style="color: white";
            class="r-fit-text"
        >
            How do we<br/>love salt?
        </h2>
    </div>
    <p class="citation">Assuming coordination number of 6, from Mähler, J. & Persson, I. A Study of the Hydration of the Alkali Metal Ions in Aqueous Solution. Inorg. Chem. 51, 425–438 (2012).
    </p>
    <p class="citation">Chris Briggs and Tatiana Rodrigues on Unsplash</p>
</section>

<section data-auto-animate="">
    <h2>Our taste of salt</h2>
    <div class="v-flex" style="align-items: flex-start; width: 75%; margin: auto;">
        <div class="h-flex" style="gap: 3rem;">
            <img src="images/chips-small.png" alt="" style="width: 250px; border: 1px solid black;">
            <p>We can discriminate salt concentrations</p>
        </div>
        <div class="h-flex" style="gap: 3rem;">
            <img src="images/ball-compare/ion-cartoon.svg" alt="" style="width: 250px; border: 1px solid black; background-color: white;">
            <p>We can discriminate between sodium and potassium</p>
        </div>
    </div>
    <p>And we do it all near-instantly!</p>
</section>

<section data-auto-animate="" data-background-color="white">
    <div class="fit-one r-stretch r-stack">
        <video src="blender/lipid-bilayer/bilayer-alone.mp4" data-autoplay></video>
        <video src="blender/lipid-bilayer/bilayer-pan.mp4" id="bilayer-pan-video" class="fragment"></video>
        <video src="blender/lipid-bilayer/bilayer-enac.mp4" id = "bilayer-enac-video" class="fragment" loop></video>
    </div>
</section>

<section data-auto-animate="">
    <h2>I have a confession</h2>
    <p class="fragment">I don't actually know much about taste...</p>
    <div class="fit-one r-stretch r-stack">
        <img src="../parts/introduction/images/kidney-cartoon/kidney-cartoon.png" alt="" class="bordered fragment">
        <img src="images/kidney-cartoon-opacity.png" alt="" class="bordered fragment">
        <img src="images/kidney-cartoon-opacity-2.png" alt="" class="bordered fragment">
    </div>
</section>

<section data-auto-animate="">
    <h1 style="margin-bottom: 3rem;">My big questions</h1>
    <ol>
        <li class="fragment fade-left">How exactly does the channel open and close?</li>
        <li class="fragment fade-left">How does ENaC filter so specifically for sodium over potassium?</li>
    </ol>
</section>

<section data-auto-animate="" data-background-color="white" data-background-image="blender/what-we-know/bg_what-we-know.png">
    <div class="r-stretch">
        <h1
            style="position: absolute; left: 0; bottom: 0; text-align: left; color: black; font-size: 6rem;"
        >
            How<br/>does ENaC<br/>open and close?
        </h1>
    </div>
</section>

<!-- TODO: need residue movie here -->
<section data-auto-animate="" data-hide-slide-number="true" data-background-color="#D2D2D2">
    <div class="r-stretch fit-one r-stack">
        <video src="blender/overview/overview-atoms.mp4" id="overview-video"></video>
        <span class="fragment" id="play-subunit-overview"></span>
        <video src="blender/what-is-a-residue/single-residue.mp4" loop id="single-residue-video" class="fragment fade-in-then-out"></video>
        <video src="blender/what-is-a-residue/residue-chain.mp4" id="residue-chain-video" class="fragment fade-in-then-out"></video>
        <video src="blender/overview/overview-cartoons.mp4" class="fragment" id="cartoon-overview"></video>
    </div>
</section>

<section data-auto-animate="">
    <h2>The Epithelial Sodium Channel</h2>
    <div class="fit-one r-stretch r-stack">
        <img src="images/enac-overview/finals/enac-overview.png" alt="" class="bordered">
        <img src="images/enac-overview/finals/tmd.png" alt="" class="bordered fragment fade-in">
        <img src="images/enac-overview/finals/palm.png" alt="" class="bordered fragment fade-in">
        <img src="images/enac-overview/finals/bball.png" alt="" class="bordered fragment fade-in">
        <img src="images/enac-overview/finals/knuckle.png" alt="" class="bordered fragment fade-in">
        <img src="images/enac-overview/finals/finger.png" alt="" class="bordered fragment fade-in">
        <img src="images/enac-overview/finals/grip.png" alt="" class="bordered fragment fade-in">
        <img src="images/enac-overview/finals/thumb.png" alt="" class="bordered fragment fade-in">
        <img src="images/enac-overview/finals/gating.png" alt="" class="bordered fragment fade-in">
        <img src="images/enac-overview/finals/scaffold.png" alt="" class="bordered fragment fade-in">
        <img src="images/enac-overview/finals/everything.png" alt="" class="bordered fragment fade-in">
    </div>
</section>

<section data-auto-animate="">
    <h2>The Epithelial Sodium Channel</h2>
    <div class="fit-two r-stretch">
        <img src="images/enac-overview/finals/everything.png" alt="" class="bordered">
        <img src="images/enac-overview/finals/simple-cartoon.svg" alt="" class="bordered">
    </div>
</section>

<section data-auto-animate="">
    <h2>GRIP removal opens ENaC</h2>
    <div class="fit-two r-stretch">
        <img src="images/enac-overview/finals/simple-cartoon.svg" alt="" class="bordered">
        <img src="images/oocytes/pre-trypsin.svg" alt="" class="bordered">
    </div>
</section>
<section data-auto-animate="" data-auto-animate-unmatched="false">
    <h2>GRIP removal opens ENaC</h2>
    <div class="fit-two r-stretch">
        <img src="images/enac-overview/finals/simple-cartoon_cleaved.svg" alt="" class="bordered">
        <img src="images/oocytes/post-trypsin.svg" alt="" class="bordered">
    </div>
</section>
<section data-auto-animate="">
    <h2>GRIP removal opens ENaC</h2>
    <div class="fit-two r-stretch">
        <div class="im-cap" style="width: 600px;">
            <img src="images/enac-overview/finals/simple-cartoon_cleaved.svg" alt="" class="bordered" style="height: 45%;">
            <img src="images/oocytes/post-trypsin.svg" alt="" class="bordered" style="height: 45%;">
        </div>
        <div class="r-stack im-cap">
            <img src="images/oocytes/na-only.png" alt="" class="bordered">
            <img src="images/oocytes/na-k.png" alt="" class="bordered fragment">
            <img src="images/oocytes/na-k-li.png" alt="" class="bordered fragment">
        </div>
    </div>
</section>

<section data-auto-animate="" data-background-image="blender/inhib-peptide/alpha-labeled.png" data-hide-slide-number="true">
    <div class="fit-one fragment fade-in-then-out" style="justify-content: flex-end;">
        <img src="images/enac-overview/finals/simple-cartoon.svg" alt="" class="bordered" style="height: 800px;">
    </div>
    <span class="fragment"></span>
</section>

<section data-auto-animate="">
    <h2>Trypsin cuts purified ENaC</h2>
    <div class="fit-one r-stack">
        <img src="images/trypsin-western/alpha-uncleave.png" alt="" class="bordered">
        <img src="images/trypsin-western/alpha-tryp.png" alt="" class="bordered fragment fade-in">
        <img src="images/trypsin-western/alpha-tryp-aprot.png" alt="" class="bordered fragment fade-in">
        <img src="images/trypsin-western/alpha-gamma.png" alt="" class="bordered fragment fade-in">
        <img src="images/trypsin-western/silver-stain.png" alt="" class="bordered fragment fade-in">
    </div>
</section>

<section data-auto-animate="">
    <h2>ECD is invariant with trypsin</h2>
    <div class="fit-one r-stretch r-stack">
        <img src="images/cleavage/cartoon-only.png" alt="" class="bordered">
        <img src="images/cleavage/cartoon-model.png" alt="" class="bordered fragment fade-in">
        <img src="images/cleavage/show-none.png" alt="" class="bordered fragment fade-in">
        <img src="images/cleavage/show-alpha.png" alt="" class="bordered fragment fade-in">
        <img src="images/cleavage/show-gamma.png" alt="" class="bordered fragment fade-in">
    </div>
</section>

<section data-auto-animate="">
    <h2>OK well maybe the TMD moves without the ECD changing, somehow?</h2>
</section>

<section data-auto-animate="">
    <div class="fit-one r-stretch">
        <video src="images/ecd-turn-label.mp4" class="bordered" id="ecd-turn-video"></video>
        <span class="fragment" id="ecd-turn"></span>
    </div>
</section>

<section data-background-image="blender/how-do-we-look/how-do-we-look.png" data-hide-slide-number="true">
    <div class="fit-one" style="justify-content: flex-start;">
        <h1 style="text-align: left; color: #FFBF6E;">How<br/>do we<br/><i>look at</i><br/>proteins?</h1>
    </div>
</section>

<!-- -------------------------------------------------------------------------------------------- -->
<!-- ------                             2D class explainer                                 ------ -->
<!-- -------------------------------------------------------------------------------------------- -->

<section data-auto-animate="" data-background-color="white">
    <p style="margin: 0; padding: 0;" data-id="noisy-header">Simplified model data</p>
    <div class="fit-two r-stretch">
        <img data-src="images/noisies/view_good-template.png" alt="" class="bordered" style="box-sizing: border-box; width: 500px;">
        <img data-src="images/noisies/good-template-labeled.png" alt="">
    </div>
  
</section>
<section data-auto-animate="" data-background-color="white">
    <p style="margin: 0; padding: 0;" data-id="noisy-header">Simplified model data</p>
    <div>
        <img style="width: 500px;" data-src="images/noisies/good-template-labeled.png" alt="">
        <img style="width: 500px;" data-src="images/noisies/noise-0.png" alt="">
    </div>
</section>
<section data-auto-animate="" data-background-color="white">
    <p style="margin: 0; padding: 0;" data-id="noisy-header">Simplified model data</p>
    <div>
        <img data-src="images/noisies/good-template-labeled.png" alt="" style="height: 350px;">
  
        <div class="noise-holder" id="noise-10">
            <script>
                const noiseHolder = document.getElementById('noise-10');
                for (i = 0; i < 10; i++) {
                    let new_noise = document.createElement('img');
                    new_noise.src = `images/noisies/noise-${i}.png`;
                    noiseHolder.appendChild(new_noise);
                }
            </script>
        </div>
  
        <img data-id="average-im" data-src="images/noisies/ten-av.png" alt="" class="fragment" style="height: 350px;" data-fragment-index="1">
        <p class="caption fragment" style="margin-top: -20px; padding-top: 0;" data-id="av-counter" data-fragment-index="1">Average of ten noisy images</p>
    </div>
</section>
<section data-auto-animate="" data-background-color="white">
    <p style="margin: 0; padding: 0;" data-id="noisy-header">Simplified model data</p>
    <div>
        <img data-src="images/noisies/good-template-labeled.png" alt="" style="height: 350px; margin-bottom: 0;">
  
        <div class="noise-holder hundred-holder" id="noise-100">
            <script>
                let hundNoise = document.getElementById('noise-100');
                for (i = 0; i < 100; i++) {
                    let new_noise = document.createElement('img');
                    new_noise.src = `images/noisies/noise-${i}.png`;
                    new_noise.style = 'height: 50px';
                    hundNoise.appendChild(new_noise);
                }
            </script>
        </div>
  
        <img data-id="average-im" data-src="images/noisies/hund_av.png" alt="" style="height: 350px; margin-top: 0;">
        <p class="caption" style="margin-top: -20px; padding-top: 0;" data-id="av-counter">Average of 100 noisy images</p>
    </div>
</section>

<section data-auto-animate="" data-background-color="white">
    <p style="margin: 0; padding: 0;" data-id="noisy-header">Simplified model data</p>
    <img style="width: 480px;" data-src="images/noisies/good-template-labeled.png" alt="">
    <img style="width: 480px;" data-src="images/noisies/hund_av.png" alt="">
</section>

<section data-auto-animate="" data-background-color="white">
    <p style="margin: 0; padding: 0;" data-id="noisy-header">Simplified model data</p>
    <div style="display: flex; flex-direction: row; justify-content: center;">
        <div class="im-cap" style="width: 25%;">
            <img data-src="images/noisies/good-template-labeled.png" alt="" style="width: 100%;">
            <p>Ideal image (no noise)</p>
        </div>
        <div class="im-cap" style="width: 25%;">
            <img data-src="images/noisies/noise-0.png" alt="" style="width: 100%;">
            <p>Single noisy image</p>
        </div>
        <div class="im-cap" style="width: 25%;">
            <img data-src="images/noisies/ten-av.png" alt="" style="width: 100%;">
            <p>Average of ten images</p>
        </div>
        <div class="im-cap" style="width: 25%;">
            <img data-src="images/noisies/hund_av.png" alt="" style="width: 100%;">
            <p>Average of 100 images</p>
        </div>
    </div>
</section>

<!-- -------------------------------------------------------------------------------------------- -->
<!-- ------                          motion blurring explainer                             ------ -->
<!-- -------------------------------------------------------------------------------------------- -->

<section data-auto-animate="">
    <h1>
        But<br/>
        proteins<br/>
        <span class="animate-wiggle">wiggle!</span>
    </h1>
</section>


<section
    data-background-video="images/me-waving-no-audio.mp4"
    data-hide-slide-number="true"
></section>

<section>
    <div class="noise-holder frame-holder" id="unaligned-holder">
        <script>
            let unalignedMe = document.getElementById('unaligned-holder');
            for (i = 0; i < 180; i++) {
                let new_noise = document.createElement('img');
                new_noise.src = `images/motion-track/unstabilized/resized/frame_${String(i).padStart(3, '0')}.png`;
                new_noise.style = 'aspect-ratio: 16/9;';
                unalignedMe.appendChild(new_noise);
            }
        </script>
    </div>
</section>

<section
    data-background-image="images/motion-track/unstabilized/resized/averaged_image.png"
    data-background-size="contain"
    data-background-color="black"
    data-hide-slide-number="true"
></section>

<section>
    <div class="noise-holder frame-holder" id="face-holder">
        <script>
            let faceMe = document.getElementById('face-holder');
            for (i = 0; i < 180; i++) {
                let new_noise = document.createElement('img');
                new_noise.src = `images/motion-track/face-stabilized/resized/frame_${String(i).padStart(3, '0')}.png`;
                new_noise.style = 'aspect-ratio: 16/9;';
                faceMe.appendChild(new_noise);
            }
        </script>
    </div>
</section>

<section
    data-background-image="images/motion-track/face-stabilized/resized/averaged_image.png"
    data-background-size="contain"
    data-background-color="black"
    data-hide-slide-number="true"
></section>

<section>
    <div class="noise-holder frame-holder" id="hand-holder">
        <script>
            let handMe = document.getElementById('hand-holder');
            for (i = 0; i < 180; i++) {
                let new_noise = document.createElement('img');
                new_noise.src = `images/motion-track/hand-stabilized/resized/frame_${String(i).padStart(3, '0')}.png`;
                new_noise.style = 'aspect-ratio: 16/9;';
                handMe.appendChild(new_noise);
            }
        </script>
    </div>
</section>

<section
    data-background-image="images/motion-track/hand-stabilized/resized/averaged_image.png"
    data-background-size="contain"
    data-background-color="black"
    data-hide-slide-number="true"
></section>

<section
    data-background-color="white"
>
    <div class="fit-one r-stretch r-stack">
        <img src="images/compare_ecd-ecd.png" alt="">
        <img src="images/compare_ecd-both.png" alt="" class=" fragment fade-in">
        <img src="images/compare_tmd-ecd.png" alt="" class=" fragment fade-in">
        <img src="images/compare_all.png" alt="" class=" fragment fade-in">
    </div>
</section>

<section data-auto-animate="">
    <h2>The TMD is likely misfolded</h2>
    <div class="fit-one r-stretch">
        <img src="../parts/introduction/figures/hg-motif/hg-motif.png" alt="" class="bordered">
    </div>
</section>
<section data-auto-animate="">
    <h2>The TMD is likely misfolded</h2>
    <div class="fit-one r-stretch">
        <img src="../parts/introduction/figures/pore-cartoon/pore-cartoon.png" alt="" class="bordered">
    </div>
</section>
<section data-auto-animate="">
    <h2>The TMD is likely misfolded</h2>
    <div class="fit-one r-stretch">
        <img src="../parts/results/figures/TM-overview/tm-overview.png" alt="" class="bordered">
    </div>
</section>

</div>
</div>


    <script src="talk-theme/reveal.js/dist/reveal.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/tokyo-night-dark.min.css">
    <script src="talk-theme/reveal.js/plugin/highlight/highlight.js"></script>
    <script src="talk-theme/reveal.js/plugin/math/math.js"></script>
    <script src="talk-theme/reveal.js/plugin/zoom/zoom.js"></script>
    <script>

        Reveal.initialize({
            center: true,
            hash: true,
            controls: false,
            transitionSpeed: 'fast',
            slideNumber: false,
            width: 1920,
            height: 1080,
            plugins: [RevealHighlight],
            autoAnimateStyles: [
                'opacity',
                'color',
                'background-color',
                'padding',
                'font-size',
                'line-height',
                'letter-spacing',
                'border-width',
                'border-color',
                'border-radius',
                'outline',
                'outline-offset'
            ]
        });

        // fill in ENaC spans

        document.querySelectorAll('span.alpha').forEach(s => {
            s.classList.add('greek-letter')
            s.innerHTML = '&alpha;';
        });
        document.querySelectorAll('span.beta').forEach(s => {
            s.classList.add('greek-letter')
            s.innerHTML = '&beta;';
        });
        document.querySelectorAll('span.gamma').forEach(s => {
            s.classList.add('greek-letter')
            s.innerHTML = '&gamma;';
        });
        document.querySelectorAll('span.cko').forEach(s => {
            s.innerHTML = 'CKO';
        })
        document.querySelectorAll('span.ckodeg').forEach(s => {
            s.innerHTML = 'CKO/DEG';
        })
        document.querySelectorAll('span.asic').forEach(s => {
            s.innerHTML = 'ASIC';
        })
        document.querySelectorAll('span.trypsin').forEach(s => {
            s.innerHTML = 'trypsinized mouse'
        })
        document.querySelectorAll('span.mouse').forEach(s => {
            s.innerHTML = 'mouse uncleaved'
        })


        // play movies

        function playUntil(movie, stopTime) {
            movie.play();
            window.setTimeout(() => {
                movie.pause();
            }, stopTime)
        }

        const overviewMovie = document.querySelector('#overview-video');
        const cartoonOverview = document.querySelector('#cartoon-overview');
        const bilayerPan = document.querySelector('#bilayer-pan-video');
        const bilayerEnac = document.querySelector('#bilayer-enac-video');
        const singleResidue = document.querySelector('#single-residue-video');
        const residueChain = document.querySelector('#residue-chain-video');
        const ecdTurnVideo = document.querySelector('#ecd-turn-video');

        Reveal.on('fragmentshown', event => {
            switch (event.fragment.id) {
                case 'play-subunit-overview':
                    overviewMovie.currentTime = 0;
                    overviewMovie.play();
                    break;
                case 'cartoon-overview':
                    cartoonOverview.currentTime = 0;
                    cartoonOverview.play();
                    break;
                case 'bilayer-pan-video':
                    bilayerPan.currentTime = 0;
                    bilayerPan.play();
                    break;
                case 'bilayer-enac-video':
                    bilayerEnac.currentTime = 0;
                    bilayerEnac.play();
                    break;
                case 'single-residue-video':
                    singleResidue.currentTime = 0;
                    singleResidue.play();
                    break;
                case 'residue-chain-video':
                    residueChain.currentTime = 0;
                    residueChain.play();
                    break;
                case 'ecd-turn':
                    ecdTurnVideo.currentTime = 0;
                    ecdTurnVideo.play();
                    break;
            }
        })

        Reveal.on('fragmenthidden', event => {
            switch (event.fragment.id) {
                case 'play-subunit-overview':
                    overviewMovie.currentTime = 0;
                    overviewMovie.pause();
                    break;
                case 'cartoon-overview':
                    cartoonOverview.currentTime = 0;
                    cartoonOverview.pause();
                    break;
                case 'bilayer-pan-video':
                    bilayerPan.currentTime = 0;
                    bilayerPan.pause();
                    break;
                case 'bilayer-enac-video':
                    bilayerEnac.currentTime = 0;
                    bilayerEnac.pause();
                    break;
                case 'single-residue-video':
                    singleResidue.currentTime = 0;
                    singleResidue.pause();
                    break;
                case 'residue-chain-video':
                    residueChain.currentTime = 0;
                    residueChain.pause();
                    break;
                case 'ecd-turn':
                    ecdTurnVideo.currentTime = 0;
                    ecdTurnVideo.pause();
            }
        })

        bilayerPan.addEventListener('ended', () => {
            Reveal.nextFragment();
        })

        // slide number hiding from https://stackoverflow.com/questions/31146251/hide-slide-number-on-title-page

        Reveal.addEventListener('slidechanged', (event) => {
            const isSnOn = (event.currentSlide.dataset.hideSlideNumber !== 'true' ? 'c/t' : false);
            Reveal.configure({ slideNumber: isSnOn, progress: isSnOn });
        });

        function makeWiggleAnimated(selectedSpan) {
            const delayAmount = 75; // in milliseconds
            const stringToAnimate = selectedSpan.innerHTML;
            selectedSpan.innerHTML = '';
            var delayIndex = 0
            for (char of stringToAnimate) {
                let newSpan = document.createElement('span');
                newSpan.innerText = char;
                console.log(delayAmount * delayIndex);
                newSpan.style.animationDelay = `${delayAmount * delayIndex}ms`;
                newSpan.style.display = 'inline-block';
                newSpan.classList.add('wiggle-char');
                selectedSpan.appendChild(newSpan);
                delayIndex += 1;
            }
        }

        document.querySelectorAll('.animate-wiggle').forEach(makeWiggleAnimated);

    </script>
  </body>
</html>